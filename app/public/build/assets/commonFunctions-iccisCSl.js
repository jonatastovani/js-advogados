var me=Object.defineProperty;var Q=f=>{throw TypeError(f)};var pe=(f,e,t)=>e in f?me(f,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):f[e]=t;var E=(f,e,t)=>pe(f,typeof e!="symbol"?e+"":e,t),X=(f,e,t)=>e.has(f)||Q("Cannot "+t);var u=(f,e,t)=>(X(f,e,"read from private field"),t?t.call(f):e.get(f)),v=(f,e,t)=>e.has(f)?Q("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(f):e.set(f,t),h=(f,e,t,i)=>(X(f,e,"write to private field"),i?i.call(f,t):e.set(f,t),t),m=(f,e,t)=>(X(f,e,"access private method"),t);var G,te;const z=class z{static createNotification(e,t={}){var Y;const{type:i="",title:s=null,ico:a=null,delay:n=5e3,autoHide:o=!0,customClass:r="",onClose:l=null,autoShow:c=!0,traceId:d=void 0}=t;let p="",b="",C="";switch(i){case"success":p="text-bg-success",b="Sucesso",C="bi bi-check2-circle";break;case"error":p="text-bg-danger",b="Erro",C="bi bi-bug";break;case"warning":p="text-bg-warning",b="Aviso",C="bi bi-exclamation-triangle";break;case"info":p="text-bg-info",b="Informação",C="bi bi-info-circle";break;default:p="",b="Notificação",C="bi bi-bell"}b=s||b,C=a||C,e+=d?`<hr class="m-1"><p class="mb-0 fst-italic fw-semibold">Código de erro: ${d}</p>`:"";const I=`toast${Date.now()}`;let F=`
            <div class="toast ${p} ${r}" id="${I}" role="alert" aria-live="assertive" aria-atomic="true"
                data-bs-config='{"autohide" : ${o}, "delay": ${n}}'>
                <div class="toast-header">
                    <i class="${C} me-1"></i>
                    <strong class="me-auto">${b}</strong>
                    <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Fechar"></button>
                </div>
                <div class="toast-body">
                    ${e}
                </div>
            </div>`;const q=m(Y=z,G,te).call(Y);q.insertAdjacentHTML("beforeend",F);const fe=q.querySelector(`#${I}`),he=new bootstrap.Toast(fe,{onClose:l});return c&&he.show(),I}static addEventTooltip(){[...document.querySelectorAll('[data-bs-toggle="tooltip"]')].map(t=>new bootstrap.Tooltip(t))}static addEventPopover(){[...document.querySelectorAll('[data-bs-toggle="popover"]')].map(t=>new bootstrap.Popover(t))}};G=new WeakSet,te=function(){let e=document.getElementById("toastContainer");return e||(document.querySelector("body").insertAdjacentHTML("beforeend",'<div class="toast-container position-fixed mh-100 overflow-auto top-0 bottom-0 end-0 p-3" id="toastContainer"></div>'),e=document.getElementById("toastContainer")),e},v(z,G);let Z=z;var y,se,ie,ae,ne,re,oe;class ge{constructor(e){v(this,y);E(this,"_urlApi");E(this,"_idModal");E(this,"_promisseReturnValue");E(this,"_endTimer");E(this,"_focusElementWhenClosingModal");E(this,"_timerSearch");E(this,"_dataEnvModal");E(this,"_objConfigs",{modalInitialized:!1,sufixo:void 0,data:void 0,modalConfig:void 0});E(this,"_btnSave",".btn-save");E(this,"_btnClose",".btn-close");E(this,"_btnCancel",".btn-cancel");E(this,"_nameClassModal","modal");this._urlApi=e.urlApi??void 0,this._idModal=e.idModal,this._promisseReturnValue=e.promisseReturnValue??{},this._promisseReturnValue=Object.assign(this._promisseReturnValue,{refresh:!1}),this._focusElementWhenClosingModal=e.focusElementWhenClosingModal??void 0,this._dataEnvModal=e.dataEnvModal??{},this._objConfigs=Object.assign(this._objConfigs,e.objConfigs??{}),this._endTimer=!1,m(this,y,se).call(this)}set _setUrlApi(e){this._urlApi=e}get _getUrlApi(){return this._urlApi}get getIdModal(){return this._idModal}set setFocusElementWhenClosingModal(e){this._focusElementWhenClosingModal=e}set _setEndTimer(e){this._endTimer=e}set setDataEnvModal(e){this._dataEnvModal=e}get getDataEnvModal(){return this._dataEnvModal}get modalInitialized(){return this._objConfigs.modalInitialized}_executeFocusElementOnModal(e,t=500){e!==null&&$(e).length&&setTimeout(function(){$(e).focus()},t)}async _modalOpen(){const e=this;return new Promise(function(t){e._objConfigs.modalInitialized||(e._objConfigs.modalInitialized=!0);const i=setInterval(async function(){e._endTimer&&(clearInterval(i),await e._modalClose(),t(e._promisseReturnValue))},250)})}async _modalHideShow(e=!0){return new Promise(t=>{const i=document.querySelector(this._idModal);let s=bootstrap.Modal.getOrCreateInstance(i);const a=e?"shown.bs.modal":"hidden.bs.modal",n=()=>{i.removeEventListener(a,n),t(!0)};i.addEventListener(a,n),e?s.show():s.hide()})}async _modalClose(){const e=this,t=$(e.getIdModal);t.css("display")!="none"&&await e._modalHideShow(!1),t.find("*").off(),t.off("keydown, click"),typeof e._modalReset=="function"&&e._modalReset(),e._executeFocusElementOnModal(e._focusElementWhenClosingModal)}_updateModalTitle(e,t={}){const i=this,{title:s=$(t.title??$(i.getIdModal).find(".modal-title"))}=t;s.html(e)}async _returnPromisseResolve(){const e=this;return new Promise(function(t){t(e._promisseReturnValue)})}}y=new WeakSet,se=function(){m(this,y,ie).call(this),m(this,y,ae).call(this),m(this,y,ne).call(this),m(this,y,oe).call(this),m(this,y,re).call(this)},ie=function(){const e=this;$(e.getIdModal).find(e._btnSave).on("click",function(t){t.preventDefault(),e.saveButtonAction()})},ae=function(){const e=this;$(e.getIdModal).find(e._btnClose).on("click",function(){e._setEndTimer=!0})},ne=function(){const e=this;$(e.getIdModal).find(e._btnCancel).on("click",function(){(e._objConfigs.formRegister??!1)==!0&&typeof e.modalCancel=="function"?e.modalCancel():e._setEndTimer=!0})},re=function(){var i,s;const e=this,t=(s=(i=e._objConfigs)==null?void 0:i.modalConfig)==null?void 0:s.modalCloseOnClickBackdrop;t!==void 0||t===!1||$(e.getIdModal).on("click",function(a){$(a.target).hasClass(e._nameClassModal)&&(e._setEndTimer=!0)})},oe=function(){var i,s;const e=this,t=(s=(i=e._objConfigs)==null?void 0:i.modalConfig)==null?void 0:s.modalCloseOnEscape;t!==void 0||t===!1||$(e.getIdModal).on("keydown",function(a){a.key==="Escape"&&(a.stopPropagation(),(e._objConfigs.formRegister??!1)==!0&&typeof e.modalCancel=="function"&&$(e.getIdModal).find(".divRegistrationFields").css("display")!="none"?e.modalCancel():e._setEndTimer=!0)})};var P,R,K,_,le,ce,de;class $e extends ge{constructor(){super({idModal:"#modalLoading"});v(this,_);v(this,P);v(this,R);v(this,K,{title:null,message:null});this._dataEnvModal=Object.assign(this._dataEnvModal,u(this,K)),h(this,P,!1),h(this,R,!1),m(this,_,de).call(this)}async modalOpen(){const t=this;return await t.initEvents(),await t._modalHideShow(),new Promise(function(i){i({status:"open"})})}async modalClose(){const t=this;return t._executeFocusElementOnModal(t._focusElementWhenClosingModal),await t._modalHideShow(!1),new Promise(function(i){i({status:"close"})})}async initEvents(){var i,s;const t=this;m(i=t,_,le).call(i),m(s=t,_,ce).call(s),t._dataEnvModal.elementFocus&&(t.setFocusElementWhenClosingModal=t._dataEnvModal.elementFocus)}}P=new WeakMap,R=new WeakMap,K=new WeakMap,_=new WeakSet,le=function(){const t=this;let i="Carregando...";t._dataEnvModal.title!==null&&(i=t._dataEnvModal.title),$(t.getIdModal).find(".modal-title").html(i)},ce=function(){const t=this;let i="Aguarde enquanto os dados estão sendo carregados...";t._dataEnvModal.message!==null&&(i=t._dataEnvModal.message),$(t.getIdModal).find(".modal-message").html(i)},de=function(){const t=this;$(t.getIdModal).on("shown.bs.modal",function(){h(t,R,!1),h(t,P,!0)}),$(t.getIdModal).on("hidden.bs.modal",function(){h(t,P,!1),h(t,R,!0)})};var D,x,j,L;class be{constructor(e=void 0,t="info",i=!1){v(this,D);v(this,x);v(this,j);v(this,L);if(h(this,D,e),h(this,x,null),h(this,j,t),h(this,L,void 0),i)return this.render()}set setMessage(e){h(this,D,e)}set setTitle(e){h(this,x,e)}set typeNotification(e){h(this,j,e)}set setTraceId(e){h(this,L,e)}render(){const e=this;return new Promise(async function(t){t(await Z.createNotification(u(e,D),{type:u(e,j),title:u(e,x),traceId:u(e,L)}))})}}D=new WeakMap,x=new WeakMap,j=new WeakMap,L=new WeakMap;class w{static get GET(){return"GET"}static get POST(){return"POST"}static get PUT(){return"PUT"}static get PATCH(){return"PATCH"}static get DELETE(){return"DELETE"}static isValid(e){return e===w.GET||e===w.POST||e===w.PUT||e===w.PATCH||e===w.DELETE}}var M,N,S,k,H,U,W,O,g,V,ue,A,B,J;class ee{constructor(e){v(this,g);v(this,M);v(this,N);v(this,S);v(this,k);v(this,H);v(this,U);v(this,W);v(this,O);h(this,M,e),h(this,N,null),h(this,S,null),h(this,k,null),h(this,H,!1),h(this,U,!1),h(this,O,!0)}setAction(e){return w.isValid(e)?(h(this,N,e),!0):(console.error("Ação inválida"),!1)}setData(e){h(this,S,e)}setParam(e){h(this,k,e)}get _getUrlApi(){return u(this,M)}set _setUrlApi(e){h(this,M,e)}set setCsrfToken(e){h(this,W,e)}set setAddCsrfTokenBln(e){h(this,O,e)}async getRequest(){const e=u(this,k)?`/${u(this,k)}`:"",t=u(this,N)||"GET",i=u(this,S)?JSON.stringify(u(this,S)):null;m(this,g,A).call(this,`URL = ${u(this,M)+e}`,`Param = ${e}`,`Method = ${t}`,`Data = ${i}`);try{u(this,O)==!0&&m(this,g,J).call(this);const s=await $.ajax({url:u(this,M)+e,method:t,contentType:"application/json",data:i,dataType:"json"});return m(this,g,A).call(this,"Response = ",s),s}catch(s){throw m(this,g,B).call(this,s),m(this,g,V).call(this,s)}}async envRequest(){const e=u(this,k)?`/${u(this,k)}`:"";m(this,g,A).call(this,`URL = ${u(this,M)+e}`,`Param = ${e}`,`Method = ${u(this,N)}`,`Data = ${JSON.stringify(u(this,S))}`);try{u(this,O)==!0&&m(this,g,J).call(this);const t=await $.ajax({url:u(this,M)+e,method:u(this,N),data:JSON.stringify(u(this,S)),contentType:"application/json"});return m(this,g,A).call(this,"Response = ",t),t}catch(t){throw m(this,g,B).call(this,t),m(this,g,V).call(this,t)}}async deleteRequest(){const e=u(this,k)?`/${u(this,k)}`:"";h(this,N,w.DELETE),m(this,g,A).call(this,`URL = ${u(this,M)+e}`,`Param = ${e}`,`Method = ${u(this,N)}`,`Data = ${JSON.stringify(u(this,S))}`);try{return u(this,O)==!0&&m(this,g,J).call(this),await $.ajax({url:u(this,M)+e,type:u(this,N),contentType:"application/json"})}catch(t){throw m(this,g,B).call(this,t),m(this,g,V).call(this,t)}}}M=new WeakMap,N=new WeakMap,S=new WeakMap,k=new WeakMap,H=new WeakMap,U=new WeakMap,W=new WeakMap,O=new WeakMap,g=new WeakSet,V=function(e){return e.responseText?m(this,g,ue).call(this,e):{xhr:e,status:e.status,message:"Erro interno no servidor API."}},ue=function(e){var t,i;try{const s=JSON.parse(e.responseText);let a=((t=s.data)==null?void 0:t.errors)||[];Array.isArray(a)||(a=Object.values(a).flat());let n=((i=s.data)==null?void 0:i.error)||"";n&&a.push(n);const o=`${s.message}
${a.join(`
`)}`;return{status:e.status,message:s.message,traceId:s.trace_id??void 0,errors:a,itemsArray:a,joinErrors:a.join(`
`),messageNotify:o,htmlAlert:T.returnHTMLAlert(s.message,"error",{itemsArray:a})}}catch(s){return console.error("Erro ao parsear resposta:",s),{status:e.status,description:e.responseText}}},A=function(...e){if(u(this,H)&&e.forEach(t=>console.log(t)),u(this,U))try{throw new Error}catch(t){console.log(`Pilha = ${t.stack}`)}},B=function(e){u(this,H)&&console.error(e)},J=function(){let e=u(this,W)??$('meta[name="csrf-token"]').attr("content"),t="";if(!e){const i=document.cookie.split(";");for(let s of i)if(s.trim().startsWith("XSRF-TOKEN=")){t=decodeURIComponent(s.trim().substring(11));break}}e?$.ajaxSetup({headers:{"X-CSRF-TOKEN":e,Accept:"application/json"}}):t?$.ajaxSetup({headers:{"X-XSRF-TOKEN":t,Accept:"application/json"}}):console.error("Token CSRF não encontrado na página ou nos cookies.")};const ve={instances:{},instanceVerification(f){return this.instances[f]?this.instances[f]:!1},setInstance(f,e){let t=this.instanceVerification(f);return t===!1&&(t=e,this.instances[f]=t),t}};class T{static returnsOnlyNumber(e){return String(e).replace(/\D/g,"")}static validateCPF(e){var t=this.returnsOnlyNumber(e);if(t.length!==11||/^(\d)\1*$/.test(t))return!1;for(var i=0,s=0;s<9;s++)i+=parseInt(t.charAt(s))*(10-s);var a=i%11,n=a<2?0:11-a;if(parseInt(t.charAt(9))!==n)return!1;for(i=0,s=0;s<10;s++)i+=parseInt(t.charAt(s))*(11-s);a=i%11;var o=a<2?0:11-a;return parseInt(t.charAt(10))===o}static addEventCheckCPF(e){const t=e.event,i=e.selector;$(i).on(t,function(){const s=funcoesComuns.returnsOnlyNumber(this.value);s.length==11?funcoesComuns.validateCPF($(this).val())?$(this).removeClass("is-invalid"):$(this).addClass("is-invalid"):s.length<11&&s.length>0?$(this).addClass("is-invalid"):$(this).removeClass("is-invalid")})}static formatCPF(e){let t=this.returnsOnlyNumber(e);return t.length==11?t.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):t==""?"":t}static cpfMask(e){$(e).mask("000.000.000-00")}static validateCNPJ(t){var t=this.returnsOnlyNumber(t);if(t.length!==14||/^(\d)\1*$/.test(t))return!1;function i(s){for(var a=0,n=s===12?5:6,o=0;o<s;o++)a+=parseInt(t.charAt(o))*n,n--,n<2&&(n=9);var r=a%11,l=r<2?0:11-r;return parseInt(t.charAt(s))===l}return i(12)&&i(13)}static addEventCheckCNPJ(e){const t=e.event,i=e.selector;$(i).on(t,function(){const s=funcoesComuns.returnsOnlyNumber(this.value);s.length==14?funcoesComuns.validateCNPJ($(this).val())?$(this).removeClass("is-invalid"):$(this).addClass("is-invalid"):s.length<14&&s.length>0?$(this).addClass("is-invalid"):$(this).removeClass("is-invalid")})}static formatCNPJ(e){let t=this.returnsOnlyNumber(e);return t.length==14?t.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"):t==""?"":t}static cnpjMask(e){$(e).mask("00.000.000/0000-00")}static phoneMask(e,t){const i=this.returnsOnlyNumber(e);i.length<11?$(t).mask("(00) 0000-00009"):$(t).mask("(00) 0 0000-0009"),this.returnsOnlyNumber($(t).val())!=i&&$(t).val(this.formatPhone(i))}static formatPhone(e){const t=this.returnsOnlyNumber(e);return t.length<11?t.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3"):t.replace(/(\d{2})(\d)(\d{4})(\d{4})/,"($1) $2 $3-$4")}static cepMask(e){$(e).mask("00.000-000")}static getInputsValues(e,t=1,i=!1,s=!1){const a={};let n="";switch($(e).find("input, select, textarea").each(function(){const r=$(this)[0],l=r.id,c=r.name,d=r.value,p=r.disabled;(i||!i&&!p)&&(r.type==="radio"?r.checked&&(l&&s?(a[l]=d.trim(),n+=`${l}:${d.trim()}
`):c&&!s&&(a[c]=d.trim(),n+=`${c}:${d.trim()}
`)):r.type==="checkbox"?r.checked?l&&s?(a[l]=!0,n+=`${l}:true
`):c&&!s&&(a[c]=!0,n+=`${c}:true
`):l&&s?(a[l]=!1,n+=`${l}:false
`):c&&!s&&(a[c]=!1,n+=`${c}:false
`):l&&s?(a[l]=d.trim(),n+=`${l}:${d.trim()}
`):c&&!s&&(a[c]=d.trim(),n+=`${c}:${d.trim()}
`))}),t){case 1:return a;case 2:return n}}static firstUppercaseLetter(e){return e.length===0?e:e.charAt(0).toUpperCase()+e.slice(1)}static applyCustomNumberMask(e,t={}){e.unmask();let i=t.format||"0,99";if((t.before&&t.before.quantity||t.after&&t.after.quantity)&&(t.before&&t.before.quantity&&(i="0".repeat(t.before.quantity)),t.after&&t.after.quantity)){const s="9".repeat(t.after.quantity);i+=`,${s}`}e.mask(i,{reverse:t.reverse||!1})}static formatNumberToCurrency(e){return e.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}static removeCommasFromCurrencyOrFraction(e="0"){const i=e.replace(/[^0-9,-]+/g,"").replace(",",".");return Number(i)}static formatWithCurrencyCommasOrFraction(e,t={}){const i=t.decimalPlaces||2;return isNaN(Number(e))&&(e=T.returnsOnlyNumber(e)),Number(e).toLocaleString("pt-BR",{minimumFractionDigits:i,maximumFractionDigits:i})}static formatNumberWithLimitDecimalPlaces(e,t={}){const i=t.decimalPlaces||2;return Number(e.toFixed(i))}static async fillSelect(e,t,i={}){const{insertFirstOption:s=!0,firstOptionName:a="Selecione",firstOptionValue:n=0,selectedIdOption:o=e.val(),displayColumnName:r="nome",typeRequest:l=w.GET,envData:c={}}=i,d=new ee(t);try{let p;if(l===w.GET)p=await d.getRequest();else if(l===w.POST)d.setAction(l),d.setData(c),p=await d.envRequest();else throw new Error('Tipo de solicitação inválido. Use "GET", "POST" ou "PUT".');let b="";return s&&(b+=`<option value="${n}">${a}</option>`),p.data.forEach(C=>{const I=C.id,F=C[r],q=I==o?" selected":"";b+=`
<option value="${I}"${q}>${F}</option>`}),e.html(b),Promise.resolve("A lista foi carregada com sucesso!")}catch(p){return e.html("<option>'Erro ao preencher'</option>"),T.generateNotificationErrorCatch(p),Promise.reject(p)}}static async fillSelectArray(e,t,i={}){const{insertFirstOption:s=!0,firstOptionName:a="Selecione",firstOptionValue:n="",selectedIdOption:o=e.val(),displayColumnName:r="nome",trigger:l=void 0}=i;try{let c="";return s&&(c+=`<option value="${n}">${a}</option>`),t.forEach(d=>{const p=d.id,b=d[r],C=p==o?" selected":"";c+=`
<option value="${p}"${C}>${b}</option>`}),e.html(c),l&&e.trigger(l),Promise.resolve("A lista foi carregada com sucesso!")}catch(c){const d="Erro ao preencher";return console.error(c),e.html(`<option>${d}</option>`),T.generateNotification(c.message,"error"),Promise.reject(c)}}static redirectForm(e,t,i={}){const{formAttr:s={method:"POST",hidden:!0,id:"",class:"",target:"_self"},submit:a={name:"submit",hidden:!1,value:"Enviar",id:"",class:""},returnElem:n="submit"}=i;let o=document.createElement("form");o.id=s.id||"",o.hidden=s.hidden||!1,o.method=s.method||"POST",o.action=e,o.target=s.target||"_self",t.forEach(c=>{let d=document.createElement("input");d.type=c.type||"hidden",d.name=c.name,Array.isArray(c.value)?d.value=JSON.stringify(c.value):d.value=c.value,o.appendChild(d)});let r=document.createElement("input");r.type="submit",r.id=a.id||"",r.className=a.class||"",r.name=a.name||"",r.hidden=a.hidden||!1,r.value=a.value||"Enviar",o.appendChild(r),document.body.appendChild(o);let l=r;switch(n){case"form":l=o;break;default:l=r}return l}static setItemLocalStorage(e,t){localStorage.setItem(e,t)}static getItemLocalStorage(e){return localStorage.getItem(e)}static getInvalidsDefaultValuesGenerateFilters(){return["undefined",void 0,"null",null,"0",0,""]}static formatToISODate(e){e||(e=new Date);const t=e.getUTCFullYear(),i=this.padNumberWithZero(e.getUTCMonth()+1),s=this.padNumberWithZero(e.getUTCDate()),a=this.padNumberWithZero(e.getUTCHours()),n=this.padNumberWithZero(e.getUTCMinutes()),o=this.padNumberWithZero(e.getUTCSeconds()),r=this.padNumberWithZero(e.getUTCMilliseconds(),5);return`${t}-${i}-${s}T${a}:${n}:${o}.${r}Z`}static padNumberWithZero(e,t=2){return e.toString().padStart(t,"0")}static gerarFiltroData(e,t){let i={};return e&&(i.inicio=e),t&&(i.fim=t),i}static eventRBCkBHidden(e,t){const i=$(e);i.on("change",function(){let s=[];t.forEach(a=>{if(a.div_group){const n=$(a.div_group);a.input.forEach(o=>{const r=$(o);if($(this).attr("type")==="radio"){if($(a.button).attr("id")!=$(this).attr("id")&&(s.length>0?s.findIndex(c=>c.input.attr("id")===r.attr("id"))==-1&&s.push({input:r,group:n,status:"hidden"}):s.push({input:r,group:n,status:"hidden"})),$(a.button).attr("id")===$(this).attr("id"))if(s.length>0){let l=s.findIndex(c=>c.input.attr("id")===r.attr("id"));l>-1?s[l].status="show":s.push({input:r,group:n,status:"show"})}else s.push({input:r,group:n,status:"show"})}else if($(i).attr("type")==="checkbox")if($(a.button).prop("checked"))if(s.length>0){let l=s.findIndex(c=>c.input.attr("id")===r.attr("id"));l>-1?s[l].status="show":s.push({input:r,group:n,status:"show"})}else s.push({input:r,group:n,status:"show"});else s.length>0?s.findIndex(c=>c.input.attr("id")===r.attr("id"))==-1&&s.push({input:r,group:n,status:"hidden"}):s.push({input:r,group:n,status:"hidden"})})}}),s.length>0&&s.forEach(a=>{a.status==="show"?(a.input.removeAttr("disabled"),a.group.show("fast")):(a.input.attr("disabled",!0),a.group.hide("fast"))})})}static eventDefaultModals(e,t={}){const{formRegister:i=!1,inputsSearchs:s=null}=t,a=e.getIdModal,n=$(a);n.find(".btn-save").on("click",function(o){o.preventDefault(),e.saveButtonAction()}),n.find(".btn-close").on("click",function(){e.setEndTimer=!0}),n.find(".btn-cancel").on("click",function(){i==!0&&typeof e.modalCancel=="function"?e.modalCancel():e.setEndTimer=!0}),n.on("keydown",function(o){o.key==="Escape"&&(o.stopPropagation(),e.setEndTimer=!0)}),i==!0&&this.addDefaultRegistrationModalEvents(e),s!=null&&this.addDefaultSearchModalEvents(e,s)}static addDefaultRegistrationModalEvents(e){const t=e.getIdModal;$(t).find("form").on("keydown",function(s){s.key==="Escape"&&(s.stopPropagation(),typeof e.modalCancel=="function"?e.modalCancel():e.setEndTimer=!0)})}static addDefaultSearchModalEvents(e,t){t.on("input",function(){clearTimeout(e.timerSearch),e.timerSearch=setTimeout(function(){e.generateFilters()},1e3)})}static addEventToggleDiv(e,t,i={}){const{self:s=null,minWidht:a=991}=i;function n(){$(window).width()<=a?(e.hide("slow"),t.show("slow")):(e.show("slow"),t.hide("slow"))}t.click(function(){e.slideToggle()}),$(window).on("resize.toggleDataSearch",function(){n()}),$(":input").on("focus",function(){$(window).off("resize.toggleDataSearch")}),$(":input").on("blur",function(){$(window).on("resize.toggleDataSearch",function(){n()})}),n()}static hiddenInputValue(e,t,i={}){const{titleShow:s="Exibir",titleHidden:a="Ocultar"}=i,n=$(t).find("i"),o=()=>this.getItemLocalStorage("hidden_data");o()==null&&this.setItemLocalStorage("hidden_data",!0),o()=="true"?(e.attr("type","password"),n.removeClass("bi bi-eye-slash-fill").addClass("bi bi-eye-fill"),$(t).attr("title",s)):($(e).attr("type","text"),n.removeClass("bi bi-eye-fill").addClass("bi bi-eye-slash-fill"),$(t).attr("title",a))}static simulateLoading(e,t=!0){t?($(e).find(".spinner-border").length||$(e).prepend('<span class="spinner-border spinner-border-sm d-none me-2" role="status" aria-hidden="true"></span>'),$(e).addClass("disabled").attr("disabled",!0),$(e).find(".spinner-border").removeClass("d-none")):($(e).removeClass("disabled").removeAttr("disabled"),$(e).find(".spinner-border").addClass("d-none"))}static async loadingModalDisplay(e=!0,t={}){const{message:i=null,title:s=null,elementFocus:a=null}=t,n=ve.setInstance("modalLoading",new $e);if(e){const o={title:s,message:i,elementFocus:a};n.setDataEnvModal=o,await n.modalOpen()}else await n.modalClose()}static addEventsSelect2Api(e,t,i={}){const{minimum:s=3,placeholder:a="Selecione uma opção",dropdownParent:n=$(document.body),dataAppend:o={}}=i;e=$(e),e.select2({theme:"bootstrap",language:{inputTooShort:function(r){var l=r.minimum-r.input.length;return`Digite ${l} ou mais caracteres`},noResults:function(){return"Nenhum resultado encontrado"},searching:function(){return"Pesquisando..."}},ajax:{dataType:"json",delay:250,transport:function(r,l){var c=r.data.term;let d=T.getCsrfToken();var p={url:t,type:"POST",data:{text:c},headers:{"X-CSRF-TOKEN":d,Accept:"application/json"},success:function(b){l(b.data)},error:function(b,C,I){const F=T.errorHandling(b);console.error(F.message)}};return $.ajax(p)},processResults:function(r){return{results:r||[]}},cache:!0},placeholder:a,allowClear:!0,minimumInputLength:s,dropdownParent:n})}static getCsrfToken(){let e=$('meta[name="csrf-token"]').attr("content");if(!e){const t=document.cookie.split(";");for(let i of t)if(i.trim().startsWith("XSRF-TOKEN=")){e=decodeURIComponent(i.trim().substring(11));break}}return e}static errorHandling(e){try{console.error(e);const t=JSON.parse(e.responseText);let i=[];console.error("Erro HTTP:",e.status),console.error(`Código de erro: ${t.trace_id}`),e.status==422&&console.error(t.data),t.data&&t.data.errors&&(Array.isArray(t.data.errors)?i=t.data.errors.map(a=>a):Object.keys(t.data.errors).forEach(a=>{t.data.errors[a].error?i.push(t.data.errors[a].error):i.push(t.data.errors[a])}));const s=`${t.message}
${i.join(`
`)}`;return{status:e.status,message:s}}catch(t){return console.error(t),console.error("Erro HTTP:",t.status),console.error(`Descrição do erro: ${t.responseText}`),{status:t.status,descricao:t.responseText}}}static updateSelect2Value(e,t,i,s={}){const{selected:a=!0,triggerChange:n=!0}=s,o=new Option(t,i,a,a);$(e).html(o),n&&e.trigger("change")}static async getRecurseWithTrashed(e,t={}){const{data:i={},action:s=w.GET,param:a="?withTrashed=1"}=t;try{const n=new ee(e);return n.setParam(a),n.setAction(s),n.setData(i),s===w.GET?await n.getRequest():await n.envRequest()}catch(n){throw console.error(n),n}}static formatStringToHTML(e){return e=e.replace(/  /g,"&nbsp; "),e=e.replace(/'/g,"&apos;"),e=e.replace(/"/g,"&quot;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/\n/g,"<br>"),e=e.trim(),e}static returnHTMLAlert(e,t,i={}){const{ico:s=null,dismissible:a=!0,itemsArray:n=[]}=i;let o="",r="";switch(t){case"success":o="alert-success",r="bi bi-check2-circle";break;case"error":o="alert-danger",r="bi bi-bug";break;case"warning":o="alert-warning",r="bi bi-exclamation-triangle";break;case"info":o="alert-info",r="bi bi-info-circle";break;default:o="alert-light",r="bi bi-bell"}r=s||r;let l=T.returnArrayToHTML(n);l&&(l=`<hr><ol class="mb-0">${l}</ol>`);let c="";a&&(o+=" alert-dismissible",c='<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>');const d=`<h6 class="alert-heading"><i class="${r}"></i> ${e}</h6>${c}`;return`<div class="alert ${o}" role="alert">${d}${l}</div>`}static returnArrayToHTML(e,t={}){const{tag:i="li"}=t;let s="";return e.forEach(a=>{s+=`<${i}>${a}</${i}>`}),s}static generateNotification(e,t,i={}){const{messageTag:s="h6",messageClass:a="",applyTag:n=!0,itemsArray:o=null,itemsTag:r="li",autoRender:l=!0,traceId:c=void 0}=i;if(n){const p=a?`class="${a}"`:"";e=`<${s} ${p}>${e}</${s}>`}let d="";return o&&(d=T.returnArrayToHTML(o,{tag:r}),d=d?`<hr class="m-1"><ol class="mb-0">${d}</ol>`:"",e+=d),new Promise(async function(p){const b=new be(e,t);b.setTraceId=c,p(await b.render())})}static generateNotificationErrorCatch(e){console.error(e),T.generateNotification(T.firstUppercaseLetter(e.message),"error",{traceId:e.traceId,itemsArray:e.itemsArray})}static verificationData(e,t={}){const{field:i=void 0,messageInvalid:s=null,typeNotification:a="warning",setFocus:n=!1,returnForcedFalse:o=!1}=t;return T.getInvalidsDefaultValuesGenerateFilters().includes(e)?(s&&T.generateNotification(s,a),i&&($(i).removeClass("is-valid").addClass("is-invalid"),n&&$(i).focus()),!1):(i&&$(i).removeClass("is-invalid").addClass("is-valid"),!o)}static checkScrollbar(e){const t=$(e)[0];return t.scrollHeight>t.clientHeight}static atualizarProgressBar(e,t){const i=$(e);i.length&&(t=Math.min(Math.max(t,0),100),i.css("width",t+"%"),i.parent().attr("aria-valuenow",t))}}export{Z as B,ee as a,T as c,w as e,ge as m};

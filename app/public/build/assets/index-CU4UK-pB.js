var m=e=>{throw TypeError(e)};var g=(e,s,t)=>s.has(e)||m("Cannot "+t);var h=(e,s,t)=>(g(e,s,"read from private field"),t?t.call(e):s.get(e)),c=(e,s,t)=>s.has(e)?m("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(e):s.set(e,t);var n=(e,s,t)=>(g(e,s,"access private method"),t);import{t as _}from"./templateSearch-DfUKGuM-.js";import{B as w}from"./commonFunctions-iccisCSl.js";import{D as C}from"./DateTimeHelper-Bk_AnO7D.js";import{S as E}from"./ServicoParticipacaoHelpers-TdzyWMCy.js";import"./modalMessage-CWFhqvtB.js";import"./UUIDHelper-C7Qwh3zO.js";var r,o,y,v,P,x;class F extends _{constructor(){super({sufixo:"PageServicoParticipacaoIndex"});c(this,o);c(this,r,{querys:{consultaFiltros:{name:"consulta-filtros",url:window.apiRoutes.baseServicoParticipacaoPreset,urlSearch:`${window.apiRoutes.baseServicoParticipacaoPreset}/consulta-filtros`,baseFront:window.frontRoutes.baseFront}}});this._objConfigs=Object.assign(this._objConfigs,h(this,r)),this.initEvents()}initEvents(){var a;const t=this;n(a=t,o,y).call(a),t._setTypeCurrentSearch=t._objConfigs.querys.consultaFiltros.name,t._generateQueryFilters()}async insertTableData(t,a={}){var b,p,f;const i=this,{tbody:S}=a;let l=n(b=i,o,v).call(b,t);l+=n(p=i,o,P).call(p,t);const d=E.htmlRenderParticipantesEIntegrantes(t.participantes),u=C.retornaDadosDataHora(t.created_at,12);return $(S).append(`
            <tr id=${t.idTr} data-id="${t.id}">
                <td class="text-center">
                    <div class="btn-group btnsAcao" role="group">
                        ${l}
                    </div>
                </td>
                <td class="text-nowrap" title="${t.nome??""}">${t.nome}</td>
                <td class="text-nowrap text-truncate" style="max-width: 10rem" title="${t.descricao??""}">${t.descricao??""}</td>
                <td><button type="button" class="btn btn-sm btn-outline-info border-0" data-bs-toggle="popover" data-bs-title="Participantes do ${t.nome}" data-bs-html="true" data-bs-content="${d.arrayParticipantes.join("<hr class='my-1'>")}">Ver mais</button></td>
                <td><button type="button" class="btn btn-sm btn-outline-info border-0" data-bs-toggle="popover" data-bs-title="Integrantes de Grupos" data-bs-html="true" data-bs-content="${d.arrayIntegrantes.join("<hr class='my-1'>")}">Ver mais</button></td>
                <td class="text-nowrap" title="${u??""}">${u??""}</td>
            </tr>
        `),w.addEventPopover(),n(f=i,o,x).call(f,t),!0}}r=new WeakMap,o=new WeakSet,y=function(){const t=this;$(`#formDataSearch${t.getSufixo}`).find(".btnBuscar").on("click",async function(a){a.preventDefault(),t._setTypeCurrentSearch=t._objConfigs.querys.consultaFiltros.name,t._generateQueryFilters()})},v=function(t){return`<a href="${this._objConfigs.querys.consultaFiltros.baseFront}/form/${t.id}" class="btn btn-outline-primary btn-sm btn-edit" title="Editar registro"><i class="bi bi-pencil"></i></a>`},P=function(t){return`<button type="button" class="btn btn-outline-danger btn-sm btn-delete" title="Excluir serviço ${t.nome}"><i class="bi bi-trash"></i></button>`},x=function(t){const a=this;$(`#${t.idTr}`).find(".btn-delete").click(async function(){a._delButtonAction(t.id,t.nome,{title:"Exclusão de Preset",message:`Confirma a exclusão do Preset <b>${t.nome}</b>?`,success:"Preset excluído com sucesso!",button:this})})};$(function(){new F});

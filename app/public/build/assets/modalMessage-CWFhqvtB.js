var m=t=>{throw TypeError(t)};var u=(t,n,e)=>n.has(t)||m("Cannot "+e);var r=(t,n,e)=>(u(t,n,"read from private field"),e?e.call(t):n.get(t)),s=(t,n,e)=>n.has(t)?m("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(t):n.set(t,e);var c=(t,n,e)=>(u(t,n,"access private method"),e);import{m as M,c as g}from"./commonFunctions-iccisCSl.js";var i,l,d,_;class h extends M{constructor(){super({idModal:"#modalMessage"});s(this,d);s(this,i,{title:null,message:null,idDefaultButton:void 0});s(this,l,{confirmResult:void 0});this._dataEnvModal=Object.assign(this._dataEnvModal,r(this,i)),this._promisseReturnValue=Object.assign(this._promisseReturnValue,r(this,l)),c(this,d,_).call(this)}async modalOpen(){const e=this,o=$(e.getIdModal);return await e.fillInfo()?(await e._modalHideShow(),[1,2].findIndex(a=>a==e._dataEnvModal.idDefaultButton)!=-1&&e._dataEnvModal.idDefaultButton==1?e._executeFocusElementOnModal(o.find(".confirmYes")):e._executeFocusElementOnModal(o.find(".confirmNo")),await e._modalOpen()):(await e._modalClose(),new Promise(function(a){a(e._promisseReturnValue)}))}async fillInfo(){const e=this,o=$(e.getIdModal);let a="Confirmação de Ação";if(e._dataEnvModal.title!==null&&(a=e._dataEnvModal.title),o.find(".modal-title").html(a),e._dataEnvModal.message!==null)return o.find(".message").html(e._dataEnvModal.message),!0;{const f="Nenhuma mensagem foi definida";return g.generateNotification("Não foi possível abrir a confirmação.","error",{itemsArray:[f]}),console.error(f,e._dataEnvModal),!1}}}i=new WeakMap,l=new WeakMap,d=new WeakSet,_=function(){const e=this,o=$(e.getIdModal);o.find(".confirmYes").on("click",function(){e._promisseReturnValue.confirmResult=!0,e._setEndTimer=!0}),o.find(".confirmNo, .btn-close").on("click",function(){e._promisseReturnValue.confirmResult=!1,e._setEndTimer=!0}),o.on("keydown",function(a){a.key==="Escape"&&(o.find(".confirmNo").trigger("click"),a.stopPropagation())})};export{h as m};

var p=e=>{throw TypeError(e)};var h=(e,s,t)=>s.has(e)||p("Cannot "+t);var x=(e,s,t)=>(h(e,s,"read from private field"),t?t.call(e):s.get(e)),c=(e,s,t)=>s.has(e)?p("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(e):s.set(e,t);var n=(e,s,t)=>(h(e,s,"access private method"),t);import{t as w}from"./templateSearch-DfUKGuM-.js";import{D as S}from"./DateTimeHelper-Bk_AnO7D.js";import"./modalMessage-CWFhqvtB.js";import"./commonFunctions-iccisCSl.js";import"./UUIDHelper-C7Qwh3zO.js";var a,o,m,v,g,_;class C extends w{constructor(){super({sufixo:"PageServicoIndex"});c(this,o);c(this,a,{querys:{consultaFiltros:{name:"consulta-filtros",url:window.apiRoutes.baseServico,urlSearch:`${window.apiRoutes.baseServico}/consulta-filtros`,baseFront:window.frontRoutes.baseFront}}});this._objConfigs=Object.assign(this._objConfigs,x(this,a)),this.initEvents()}initEvents(){var r;const t=this;n(r=t,o,m).call(r),t._setTypeCurrentSearch=t._objConfigs.querys.consultaFiltros.name,t._generateQueryFilters()}async insertTableData(t,r={}){var d,b,f;const i=this,{tbody:y}=r;let l=n(d=i,o,v).call(d,t);l+=n(b=i,o,g).call(b,t);const u=S.retornaDadosDataHora(t.created_at,12);return $(y).append(`
            <tr id=${t.idTr} data-id="${t.id}">
                <td class="text-center">
                    <div class="btn-group btnsAcao" role="group">
                        ${l}
                    </div>
                </td>
                <td class="text-nowrap" title="${t.numero_servico??""}">${t.numero_servico}</td>
                <td class="text-nowrap text-truncate" style="max-width: 10rem" title="${t.titulo??""}">${t.titulo}</td>
                <td class="text-nowrap text-truncate" style="max-width: 10rem" title="${t.area_juridica.nome??""}">${t.area_juridica.nome??""}</td>
                <td class="text-nowrap text-truncate" style="max-width: 10rem" title="${t.descricao??""}">${t.descricao??""}</td>
                <td class="text-nowrap" title="${u??""}">${u??""}</td>
            </tr>
        `),n(f=i,o,_).call(f,t),!0}}a=new WeakMap,o=new WeakSet,m=function(){const t=this;$(`#formDataSearch${t.getSufixo}`).find(".btnBuscar").on("click",async function(r){r.preventDefault(),t._setTypeCurrentSearch=t._objConfigs.querys.consultaFiltros.name,t._generateQueryFilters()})},v=function(t){return`<a href="${this._objConfigs.querys.consultaFiltros.baseFront}/form/${t.id}" class="btn btn-outline-primary btn-sm btn-edit" title="Editar registro"><i class="bi bi-pencil"></i></a>`},g=function(t){return`<button type="button" class="btn btn-outline-danger btn-sm btn-delete" title="Excluir serviço ${t.numero_servico}"><i class="bi bi-trash"></i></button>`},_=function(t){const r=this;$(`#${t.idTr}`).find(".btn-delete").click(async function(){r._delButtonAction(t.id,t.name,{title:"Exclusão de Serviço",message:`Confirma a exclusão do Serviço <b>${t.numero_servico}</b>?`,success:"Serviço excluído com sucesso!",button:this})})};$(function(){new C});
